{"version":3,"sources":["../../../../../../src/bot/checkout/components/checkout-card/components/view-on-website.ts"],"sourcesContent":["import { forwardRef, Inject, Injectable } from \"@nestjs/common\";\r\nimport {\r\n\tModal,\r\n\tContext,\r\n\tSlashCommand,\r\n\tSlashCommandContext,\r\n\tCtx,\r\n\tModalContext,\r\n\tStringSelect,\r\n\tStringSelectContext,\r\n\tSelectedStrings,\r\n\tButton,\r\n\tComponentParam,\r\n} from \"necord\";\r\nimport {\r\n\tActionRowBuilder,\r\n\tButtonBuilder,\r\n\tButtonInteraction,\r\n\tButtonStyle,\r\n\tCacheType,\r\n\tChatInputCommandInteraction,\r\n\tClient,\r\n\tEmbedBuilder,\r\n\tMessage,\r\n\tModalActionRowComponentBuilder,\r\n\tModalBuilder,\r\n\tModalSubmitInteraction,\r\n\tTextChannel,\r\n\tTextInputBuilder,\r\n\tTextInputStyle,\r\n} from \"discord.js\";\r\nimport { BotConfig } from \"@/config\";\r\nimport { ProductProps } from \"@/@shared/sharpify/api\";\r\nimport { formatPrice } from \"@/@shared/lib\";\r\nimport TurndownService from \"turndown\";\r\nimport { DiscordUserEntity, ProductEntity } from \"@/@shared/db/entities\";\r\nimport { ValidateDatabaseCartItemsHelper } from \"../../../helpers\";\r\nimport { formatCheckoutCartItemNameHelper, getCheckoutCartItemsHelper } from \"../helper\";\r\nimport { SectionManagerHandler } from \"../section-manager\";\r\nimport { WrapperType } from \"@/@shared/types\";\r\nimport { RemoveFromCartUsecase } from \"../usecases\";\r\nimport { getLocalStoreConfig } from \"@/@shared/sharpify\";\r\n\r\n@Injectable()\r\nexport class ViewOnWebsiteButtonComponent {\r\n\tconstructor(\r\n\t\t@Inject(Client) private readonly client: Client,\r\n\t\t@Inject(forwardRef(() => SectionManagerHandler))\r\n\t\tprivate readonly sectionManagerHandler: WrapperType<SectionManagerHandler>,\r\n\t) {}\r\n\r\n\tasync createButton({ orderId }: { orderId: string }) {\r\n\t\tconst { url } = await getLocalStoreConfig();\r\n\t\tconst ViewOnWebsiteButton = new ButtonBuilder()\r\n\t\t\t.setLabel(\"Pagar no site\") // text on the button\r\n\t\t\t.setStyle(ButtonStyle.Link) // gray button, like in the image\r\n\t\t\t.setEmoji(\"ðŸ”—\")\r\n\t\t\t.setURL(`${url}/checkout/${orderId}`);\r\n\t\treturn { ViewOnWebsiteButton };\r\n\t}\r\n}\r\n"],"names":["ViewOnWebsiteButtonComponent","createButton","orderId","url","getLocalStoreConfig","ViewOnWebsiteButton","ButtonBuilder","setLabel","setStyle","ButtonStyle","Link","setEmoji","setURL","client","sectionManagerHandler","SectionManagerHandler"],"mappings":";;;;+BA4CaA;;;eAAAA;;;wBA5CkC;yBA8BxC;gCAQ+B;uBACV;0BAEQ;;;;;;;;;;;;;;;AAG7B,IAAA,AAAMA,+BAAN,MAAMA;IAOZ,MAAMC,aAAa,EAAEC,OAAO,EAAuB,EAAE;QACpD,MAAM,EAAEC,GAAG,EAAE,GAAG,MAAMC,IAAAA,6BAAmB;QACzC,MAAMC,sBAAsB,IAAIC,sBAAa,GAC3CC,QAAQ,CAAC,iBAAiB,qBAAqB;SAC/CC,QAAQ,CAACC,oBAAW,CAACC,IAAI,EAAE,iCAAiC;SAC5DC,QAAQ,CAAC,MACTC,MAAM,CAAC,GAAGT,IAAI,UAAU,EAAED,SAAS;QACrC,OAAO;YAAEG;QAAoB;IAC9B;IAdA,YACC,AAAiCQ,MAAc,EAC/C,AACiBC,qBAAyD,CACzE;aAHgCD,SAAAA;aAEhBC,wBAAAA;IACf;AAWJ;;;;iEAb2BC,qCAAqB"}