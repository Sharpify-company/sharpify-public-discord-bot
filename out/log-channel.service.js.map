{"version":3,"sources":["../src/log-channel.service.ts"],"sourcesContent":["import { ExternalEventsEntity } from \"@/@shared/db/entities\";\r\nimport { Sharpify } from \"@/@shared/sharpify\";\r\nimport { Inject, Injectable } from \"@nestjs/common\";\r\nimport { Cron, CronExpression } from \"@nestjs/schedule\";\r\nimport { Client, MessageCreateOptions, MessagePayload, TextChannel } from \"discord.js\";\r\nimport { dotEnv } from \"./@shared/lib\";\r\n\r\n@Injectable()\r\nexport class LogChannel {\r\n\tconstructor(@Inject(Client) private readonly client: Client) {}\r\n\r\n\tasync sendMessage(options: string | MessagePayload | MessageCreateOptions) {\r\n\t\tif (!dotEnv.LOG_CHANNEL_ID) return;\r\n\t\tconst channel = (await this.client?.channels.fetch(dotEnv.LOG_CHANNEL_ID).catch(() => null)) as TextChannel;\r\n\t\tif (!channel || !channel.isTextBased()) return;\r\n\t\tawait channel.send(options);\r\n\t}\r\n}\r\n"],"names":["LogChannel","sendMessage","options","dotEnv","LOG_CHANNEL_ID","channel","client","channels","fetch","catch","isTextBased","send"],"mappings":";;;;+BAQaA;;;eAAAA;;;wBANsB;yBAEuC;qBACnD;;;;;;;;;;;;;;;AAGhB,IAAA,AAAMA,aAAN,MAAMA;IAGZ,MAAMC,YAAYC,OAAuD,EAAE;QAC1E,IAAI,CAACC,WAAM,CAACC,cAAc,EAAE;QAC5B,MAAMC,UAAW,MAAM,IAAI,CAACC,MAAM,EAAEC,SAASC,MAAML,WAAM,CAACC,cAAc,EAAEK,MAAM,IAAM;QACtF,IAAI,CAACJ,WAAW,CAACA,QAAQK,WAAW,IAAI;QACxC,MAAML,QAAQM,IAAI,CAACT;IACpB;IAPA,YAAY,AAAiCI,MAAc,CAAE;aAAhBA,SAAAA;IAAiB;AAQ/D"}