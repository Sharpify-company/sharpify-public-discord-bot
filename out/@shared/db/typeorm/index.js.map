{"version":3,"sources":["../../../../src/@shared/db/typeorm/index.ts"],"sourcesContent":["import path from \"path\";\r\nimport { DataSource } from \"typeorm\";\r\n\r\nexport const AppDataSource = new DataSource({\r\n\ttype: \"better-sqlite3\",\r\n\tdatabase: path.join(process.cwd(), \"/database.db\"),\r\n\t// synchronize: true,\r\n\tentities: [process.cwd() + \"/dist/**/*.entity.{ts,js}\"],\r\n\tmigrations: [process.cwd() + \"/dist/migrations/*.{ts,js}\"],\r\n\tmigrationsTableName: \"typeorm_migrations\",\r\n});\r\n\r\nexport class TypeormProvider {\r\n\tstatic async init() {\r\n\t\tawait AppDataSource.initialize();\r\n\t\tawait AppDataSource.runMigrations();\r\n\t\tconsole.log(\"Database connected and migrations run.\");\r\n\t}\r\n}\r\n"],"names":["AppDataSource","TypeormProvider","DataSource","type","database","path","join","process","cwd","entities","migrations","migrationsTableName","init","initialize","runMigrations","console","log"],"mappings":";;;;;;;;;;;QAGaA;eAAAA;;QASAC;eAAAA;;;6DAZI;yBACU;;;;;;AAEpB,MAAMD,gBAAgB,IAAIE,mBAAU,CAAC;IAC3CC,MAAM;IACNC,UAAUC,aAAI,CAACC,IAAI,CAACC,QAAQC,GAAG,IAAI;IACnC,qBAAqB;IACrBC,UAAU;QAACF,QAAQC,GAAG,KAAK;KAA4B;IACvDE,YAAY;QAACH,QAAQC,GAAG,KAAK;KAA6B;IAC1DG,qBAAqB;AACtB;AAEO,IAAA,AAAMV,kBAAN,MAAMA;IACZ,aAAaW,OAAO;QACnB,MAAMZ,cAAca,UAAU;QAC9B,MAAMb,cAAcc,aAAa;QACjCC,QAAQC,GAAG,CAAC;IACb;AACD"}