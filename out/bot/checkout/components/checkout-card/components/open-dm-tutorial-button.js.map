{"version":3,"sources":["../../../../../../src/bot/checkout/components/checkout-card/components/open-dm-tutorial-button.ts"],"sourcesContent":["import { forwardRef, Inject, Injectable } from \"@nestjs/common\";\r\nimport {\r\n\tModal,\r\n\tContext,\r\n\tSlashCommand,\r\n\tSlashCommandContext,\r\n\tCtx,\r\n\tModalContext,\r\n\tStringSelect,\r\n\tStringSelectContext,\r\n\tSelectedStrings,\r\n\tButton,\r\n\tComponentParam,\r\n\tModalParam,\r\n} from \"necord\";\r\nimport {\r\n\tActionRowBuilder,\r\n\tButtonBuilder,\r\n\tButtonInteraction,\r\n\tButtonStyle,\r\n\tCacheType,\r\n\tChatInputCommandInteraction,\r\n\tClient,\r\n\tEmbedBuilder,\r\n\tLabelBuilder,\r\n\tMessage,\r\n\tModalActionRowComponentBuilder,\r\n\tModalBuilder,\r\n\tModalSubmitInteraction,\r\n\tStringSelectMenuBuilder,\r\n\tTextChannel,\r\n\tTextInputBuilder,\r\n\tTextInputStyle,\r\n} from \"discord.js\";\r\nimport { BotConfig } from \"@/config\";\r\nimport { ProductProps } from \"@/@shared/sharpify/api\";\r\nimport { formatPrice } from \"@/@shared/lib\";\r\nimport TurndownService from \"turndown\";\r\nimport { DiscordUserEntity, ProductEntity } from \"@/@shared/db/entities\";\r\nimport { ValidateDatabaseCartItemsHelper } from \"../../../helpers\";\r\nimport { formatCheckoutCartItemNameHelper, getCheckoutCartItemsHelper } from \"../helper\";\r\nimport { SectionManagerHandler } from \"../section-manager\";\r\nimport { WrapperType } from \"@/@shared/types\";\r\nimport { RemoveFromCartUsecase } from \"../usecases\";\r\n\r\n@Injectable()\r\nexport class OpenDmTutorialButtonComponent {\r\n\tconstructor(\r\n\t\t@Inject(Client) private readonly client: Client,\r\n\t\t@Inject(forwardRef(() => SectionManagerHandler))\r\n\t\tprivate readonly sectionManagerHandler: WrapperType<SectionManagerHandler>,\r\n\t) {}\r\n\r\n\t@Button(\"open_dm_tutorial_button\")\r\n\tprivate async handleButtonClicked(\r\n\t\t@Context() [interaction]: [ButtonInteraction],\r\n\t\t@ComponentParam(\"productIdAndItemId\") productIdAndItemId: string,\r\n\t) {\r\n\t\tconst OpenDm = new EmbedBuilder()\r\n\t\t\t.setColor(BotConfig.color)\r\n\t\t\t.setTitle(`Tutorial Como abrir a DM?`)\r\n\t\t\t.setDescription(\"Sem a DM aberta, vocÃª nÃ£o poderÃ¡ receber o produto comprado pelo discord.\")\r\n\t\t\t.setImage(\"https://public-blob.squarecloud.dev/498013966740619264/zennify_guides/open_discord_dm_mczscx7n-31ba.webp\");\r\n\r\n\t\tawait interaction.reply({\r\n\t\t\tembeds: [OpenDm],\r\n            flags: [\"Ephemeral\"],\r\n\t\t});\r\n\t}\r\n\r\n\tasync createButton() {\r\n\t\tconst OpenDmTutorialButton = new ButtonBuilder()\r\n\t\t\t.setCustomId(`open_dm_tutorial_button`)\r\n\t\t\t.setLabel(\"Como abrir a DM\")\r\n\t\t\t.setStyle(ButtonStyle.Primary)\r\n\t\t\t.setEmoji(\"ðŸ’¬\");\r\n\t\treturn { OpenDmTutorialButton };\r\n\t}\r\n}\r\n"],"names":["OpenDmTutorialButtonComponent","handleButtonClicked","interaction","productIdAndItemId","OpenDm","EmbedBuilder","setColor","BotConfig","color","setTitle","setDescription","setImage","reply","embeds","flags","createButton","OpenDmTutorialButton","ButtonBuilder","setCustomId","setLabel","setStyle","ButtonStyle","Primary","setEmoji","client","sectionManagerHandler","SectionManagerHandler"],"mappings":";;;;+BA8CaA;;;eAAAA;;;wBA9CkC;wBAcxC;yBAmBA;wBACmB;gCAOY;uBACV;;;;;;;;;;;;;;;AAIrB,IAAA,AAAMA,gCAAN,MAAMA;IAOZ,MACcC,oBACb,AAAW,CAACC,YAAiC,EAC7C,AAAsCC,kBAA0B,EAC/D;QACD,MAAMC,SAAS,IAAIC,qBAAY,GAC7BC,QAAQ,CAACC,iBAAS,CAACC,KAAK,EACxBC,QAAQ,CAAC,CAAC,yBAAyB,CAAC,EACpCC,cAAc,CAAC,6EACfC,QAAQ,CAAC;QAEX,MAAMT,YAAYU,KAAK,CAAC;YACvBC,QAAQ;gBAACT;aAAO;YACPU,OAAO;gBAAC;aAAY;QAC9B;IACD;IAEA,MAAMC,eAAe;QACpB,MAAMC,uBAAuB,IAAIC,sBAAa,GAC5CC,WAAW,CAAC,CAAC,uBAAuB,CAAC,EACrCC,QAAQ,CAAC,mBACTC,QAAQ,CAACC,oBAAW,CAACC,OAAO,EAC5BC,QAAQ,CAAC;QACX,OAAO;YAAEP;QAAqB;IAC/B;IA9BA,YACC,AAAiCQ,MAAc,EAC/C,AACiBC,qBAAyD,CACzE;aAHgCD,SAAAA;aAEhBC,wBAAAA;IACf;AA2BJ;;;;;;;;;;;;;;;iEA7B2BC,qCAAqB"}